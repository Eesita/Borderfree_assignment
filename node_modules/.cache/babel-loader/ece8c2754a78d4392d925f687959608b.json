{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ashutoshjain/Downloads/0kb35/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/ashutoshjain/Downloads/0kb35/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/ashutoshjain/Downloads/0kb35/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/ashutoshjain/Downloads/0kb35/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ashutoshjain/Downloads/0kb35/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/ashutoshjain/Downloads/0kb35/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/ashutoshjain/Downloads/0kb35/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/ashutoshjain/Downloads/0kb35/src/components/Bag.js\";\nimport React from \"react\";\nimport { Button, Card } from \"antd\";\nimport { ShoppingCartOutlined, CloseOutlined } from \"@ant-design/icons\";\nimport { fetchData, deleteData } from \"./AWSFunctions\";\nimport \"./Bag.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar Bag = /*#__PURE__*/function (_React$Component) {\n  _inherits(Bag, _React$Component);\n\n  var _super = _createSuper(Bag);\n\n  function Bag() {\n    var _this;\n\n    _classCallCheck(this, Bag);\n\n    _this = _super.call(this);\n    _this.callFetchData = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var bag;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetchData(\"bag\");\n\n            case 2:\n              bag = _context.sent;\n\n              // if (bag) {\n              //   this.setState({\n              //     items: [...bag]\n              //   });\n              // }\n              _this.setState({\n                items: _toConsumableArray(bag)\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.pushToBag = function () {\n      _this.callFetchData();\n    };\n\n    _this.calculateTotal = function () {\n      var total = _this.state.items.length * 2000;\n      return total;\n    };\n\n    _this.deleteBagItem = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return deleteData(\"bag\", id);\n\n              case 2:\n                _context2.next = 4;\n                return _this.pushToBag();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      items: [],\n      bag_product_quantity: 0\n    };\n    return _this;\n  }\n\n  _createClass(Bag, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // console.log(\"componentDidMount() xecuted - bag\");\n      this.callFetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart\",\n        children: this.state.items.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [this.state.items.map(function (item) {\n            return /*#__PURE__*/_jsxDEV(Card, {\n              className: \"cart-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"cart-item-image\",\n                alt: item.name,\n                src: item.images[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-parent\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cart-item-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"cart-item-name\",\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 63,\n                      columnNumber: 23\n                    }, _this2)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 21\n                  }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cart-item-cost\",\n                    children: [\"\\u20B9\", item.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 21\n                  }, _this2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 19\n                }, _this2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, _this2), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"ant-btn-warning\",\n                type: \"primary\",\n                icon: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 25\n                }, _this2),\n                onClick: function onClick() {\n                  _this2.deleteBagItem(item.id);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, _this2)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, _this2);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.state.items.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Sub Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u20B9\", this.calculateTotal()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"N/A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u20B9\", this.calculateTotal()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), !this.props.summary && /*#__PURE__*/_jsxDEV(Button, {\n            className: \"ant-btn-warning proceed-to-bag-button\",\n            type: \"primary\",\n            icon: /*#__PURE__*/_jsxDEV(ShoppingCartOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 23\n            }, this),\n            onClick: function onClick() {\n              _this2.props.history.push(\"/summary\");\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Proceed To Bag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-text\",\n          children: [\"Add an item to cart and it will show up here\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return Bag;\n}(React.Component);\n\nexport { Bag as default };","map":{"version":3,"sources":["/Users/ashutoshjain/Downloads/0kb35/src/components/Bag.js"],"names":["React","Button","Card","ShoppingCartOutlined","CloseOutlined","fetchData","deleteData","Bag","callFetchData","bag","setState","items","pushToBag","calculateTotal","total","state","length","deleteBagItem","id","bag_product_quantity","map","item","name","images","price","props","summary","history","push","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Button, Card } from \"antd\";\r\nimport { ShoppingCartOutlined, CloseOutlined } from \"@ant-design/icons\";\r\nimport { fetchData, deleteData } from \"./AWSFunctions\";\r\nimport \"./Bag.css\";\r\n\r\nexport default class Bag extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      items: [],\r\n      bag_product_quantity: 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log(\"componentDidMount() xecuted - bag\");\r\n    this.callFetchData();\r\n  }\r\n\r\n  callFetchData = async () => {\r\n    // console.log(\"callFetchData xecuted - bag\");\r\n    var bag = await fetchData(\"bag\");\r\n    // if (bag) {\r\n    //   this.setState({\r\n    //     items: [...bag]\r\n    //   });\r\n    // }\r\n    this.setState({\r\n      items: [...bag]\r\n    });\r\n  };\r\n\r\n  pushToBag = () => {\r\n    this.callFetchData();\r\n  };\r\n\r\n  calculateTotal = () => {\r\n    let total = this.state.items.length * 2000;\r\n    return total;\r\n  };\r\n\r\n  deleteBagItem = async (id) => {\r\n    await deleteData(\"bag\", id);\r\n    await this.pushToBag();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"cart\">\r\n        {this.state.items.length ? (\r\n          <>\r\n            {this.state.items.map((item) => (\r\n              <Card className=\"cart-item\" key={item.id}>\r\n                <img\r\n                  className=\"cart-item-image\"\r\n                  alt={item.name}\r\n                  src={item.images[0]}\r\n                />\r\n                <div className=\"cart-parent\">\r\n                  <div className=\"cart-item-info\">\r\n                    <div>\r\n                      <div className=\"cart-item-name\">{item.name}</div>\r\n                    </div>\r\n                    <div className=\"cart-item-cost\">₹{item.price}</div>\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  className=\"ant-btn-warning\"\r\n                  type=\"primary\"\r\n                  icon={<CloseOutlined />}\r\n                  onClick={() => {\r\n                    this.deleteBagItem(item.id);\r\n                  }}\r\n                ></Button>\r\n              </Card>\r\n            ))}\r\n            <div className=\"total\">\r\n              <h2>Total</h2>\r\n              <div className=\"total-item\">\r\n                <div>Quantity</div>\r\n                <div>{this.state.items.length}</div>\r\n              </div>\r\n              <div className=\"total-item\">\r\n                <div>Sub Total</div>\r\n                <div>₹{this.calculateTotal()}</div>\r\n              </div>\r\n              <div className=\"total-item\">\r\n                <div>Shipping</div>\r\n                <div>N/A</div>\r\n              </div>\r\n              <hr></hr>\r\n              <div className=\"total-item\">\r\n                <div>Total</div>\r\n                <div>₹{this.calculateTotal()}</div>\r\n              </div>\r\n            </div>\r\n            {!this.props.summary && (\r\n              <Button\r\n                className=\"ant-btn-warning proceed-to-bag-button\"\r\n                type=\"primary\"\r\n                icon={<ShoppingCartOutlined />}\r\n                onClick={() => {\r\n                  this.props.history.push(\"/summary\");\r\n                }}\r\n              >\r\n                <strong>Proceed To Bag</strong>\r\n              </Button>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"loading-text\">\r\n            Add an item to cart and it will show up here\r\n            <br />\r\n            <br />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}